#include <windows.h>
#include <stdio.h>
#include <time.h>
#include <tlhelp32.h>
#include <iphlpapi.h>
#pragma comment(lib, "iphlpapi.lib")

#include <windows.h>
#include <stdio.h>

BOOL CheckVMDiskDriver() {
    const char* vmDrivers[] = {
        "\\\\.\\VBoxMiniRdrDN",
        "\\\\.\\HGFS",
        "\\\\.\\VBoxGuest",
        "\\\\.\\vmci",
        NULL
    };

    for (int i = 0; vmDrivers[i] != NULL; i++) {
        HANDLE hDevice = CreateFileA(vmDrivers[i], 0, FILE_SHARE_READ | FILE_SHARE_WRITE, NULL, OPEN_EXISTING, 0, NULL);
        if (hDevice != INVALID_HANDLE_VALUE) {
            CloseHandle(hDevice);
            return TRUE;
        }
    }

    return FALSE;
}


int main() {
    if (CheckVMDiskDriver()) {
        printf("...\n");
        return -1;
    }

    printf("on...\n");


    return 0;
}
